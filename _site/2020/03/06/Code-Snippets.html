<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Code Snippets | Grokking all things in the universe !</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Code Snippets" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="ToDOs" />
<meta property="og:description" content="ToDOs" />
<link rel="canonical" href="http://localhost:4000/2020/03/06/Code-Snippets.html" />
<meta property="og:url" content="http://localhost:4000/2020/03/06/Code-Snippets.html" />
<meta property="og:site_name" content="Grokking all things in the universe !" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-06T00:00:00+05:30" />
<script type="application/ld+json">
{"datePublished":"2020-03-06T00:00:00+05:30","@type":"BlogPosting","dateModified":"2020-03-06T00:00:00+05:30","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020/03/06/Code-Snippets.html"},"description":"ToDOs","url":"http://localhost:4000/2020/03/06/Code-Snippets.html","headline":"Code Snippets","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Grokking all things in the universe !" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Grokking all things in the universe !</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Code Snippets</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-03-06T00:00:00+05:30" itemprop="datePublished">Mar 6, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h3 id="todos">ToDOs</h3>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />Add permissions image before and after running the script</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Add Explanation of how 600 and 700 is a security bug for any website !</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Explantion of script !</li>
</ul>

<h1 id="php-script">PHP Script</h1>

<p><strong>permission.php</strong></p>

<blockquote>
  <p>php script to configure file and folder permissions of website at one go rather than manually doing chmod’s to every file extension</p>
</blockquote>

<p>I used this script while solving <a href="https://cdn.cs50.net/2016/x/psets/7/pset7/pset7.html">CS50’s Pset7</a>. When you first download the pset’s boilerplate code, the folder’s permissions are mostly 700’s for folders and 600’s for files. This script assigns  644’s to the files and 755’s to the folders</p>

<p>Folder and file’s permissions before running below script:
<img src="/assets/code-snippets/permissions-before.png" alt="permisions-before.png" /></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
  <span class="cp">&lt;?php</span>
  <span class="nv">$dir</span> <span class="o">=</span> <span class="nb">dirname</span><span class="p">(</span> <span class="k">__FILE__</span> <span class="p">);</span>
  <span class="nv">$extensions_to_chmod_644</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"jpg"</span><span class="p">,</span><span class="s2">"gif"</span><span class="p">,</span><span class="s2">"php"</span><span class="p">,</span><span class="s2">"png"</span><span class="p">,</span><span class="s2">"ico"</span><span class="p">,</span><span class="s2">"css"</span><span class="p">,</span><span class="s2">"md"</span><span class="p">,</span><span class="s2">"txt"</span><span class="p">,</span><span class="s2">"html"</span><span class="p">,</span><span class="s2">"htm"</span><span class="p">,</span><span class="s2">"xml"</span><span class="p">,</span><span class="s2">"js"</span><span class="p">,</span><span class="s2">"csv"</span><span class="p">,</span><span class="s2">"json"</span><span class="p">,</span><span class="s2">"htaccess"</span><span class="p">);</span>
  <span class="nv">$extension_separator</span> <span class="o">=</span> <span class="s2">"\|"</span><span class="p">;</span>
  <span class="nv">$command_to_chmod_644</span> <span class="o">=</span> <span class="s1">'find "'</span> <span class="o">.</span> <span class="nv">$dir</span> <span class="o">.</span> <span class="s1">'" -type f -iregex ".*\.\('</span><span class="p">;</span>
  <span class="k">foreach</span><span class="p">(</span> <span class="nv">$extensions_to_chmod_644</span> <span class="k">as</span> <span class="nv">$ext</span> <span class="p">)</span> <span class="p">{</span>
      <span class="nv">$command_to_chmod_644</span> <span class="o">.=</span> <span class="nv">$ext</span> <span class="o">.</span> <span class="nv">$extension_separator</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nv">$command_to_chmod_644</span> <span class="o">=</span>
  <span class="nb">rtrim</span><span class="p">(</span><span class="nv">$command_to_chmod_644</span><span class="p">,</span><span class="nv">$extension_separator</span><span class="p">);</span>
  <span class="nv">$command_to_chmod_644</span> <span class="o">.=</span> <span class="s1">'\)$" -print0 | xargs -0 chmod 644'</span><span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
  <span class="nb">shell_exec</span><span class="p">(</span><span class="nv">$command_to_chmod_644</span><span class="p">);</span>

  <span class="nv">$command_to_chmod_755</span> <span class="o">=</span> <span class="s2">"find '</span><span class="nv">$dir</span><span class="s2">' -type d -print0 | xargs -0 chmod 755"</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
  <span class="nb">shell_exec</span><span class="p">(</span><span class="nv">$command_to_chmod_755</span><span class="p">);</span>

</code></pre></div></div>
<p>Folder and Files permissions after running the script:
<img src="/assets/code-snippets/permissions-after.png" alt="permisions-after.png" /></p>


  </div><a class="u-url" href="/2020/03/06/Code-Snippets.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Grokking all things in the universe !</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Grokking all things in the universe !</li><li><a class="u-email" href="mailto:kumar877prem@gmail.com">kumar877prem@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wicked-smart"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wicked-smart</span></a></li><li><a href="https://www.twitter.com/kprem16"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">kprem16</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>This is an awesome description of my new site , which i&#39;m gonna change later as right now i&#39;m in testing MODE !!!</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
